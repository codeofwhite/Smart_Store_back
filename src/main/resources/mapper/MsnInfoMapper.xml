<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="canglangpoxiao.smart_store_back.mapper.MsnInfoMapper">
    <!--插入新任务-->
    <insert id="insertMsn">
        INSERT INTO msn_info (msn_name,   msn_desc,  uid_msn_starter, msn_flag)
        VALUES (#{msn_name},   #{msn_desc},  #{uid_msn_starter}, 1);
    </insert>

    <!-- 插入 msn_family 表 -->
    <insert id="insertMsnFamily">
        INSERT INTO msn_family (msn_name, uid_assigned, uid_msn_starter)
        VALUES (#{msn_name}, #{uid_assigned}, #{uid_msn_starter})
    </insert>

    <!--更新任务状态-->
    <update id="updateMsnState">
        UPDATE msn_info SET msn_flag = #{msn_flag} WHERE msn_name = #{msn_name} and uid_msn_starter = #{uid_msn_starter};
    </update>

    <!--编辑任务-->
    <update id="editMsn">

    </update>

    <!--清空所有自己发布的任务-->
    <delete id="deleteMsnByUid">

    </delete>

</mapper>

